<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen 1 : ThÃ©orie - Assembleur 8086</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/courses.css">
    <style>
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .question-card {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .result-box {
            display: none;
            margin-top: 2rem;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }

        .score-good {
            background-color: #d1e7dd;
            color: #0f5132;
        }

        .score-bad {
            background-color: #f8d7da;
            color: #842029;
        }
    </style>
</head>

<body>
    <header class="site-header">
        <div class="container">
            <a href="../../index.html" class="site-logo"><span>ðŸ“š</span><span>Learn2succeed</span></a>
            <nav class="main-nav">
                <a href="../../index.html">Accueil</a>
                <a href="../../dashboard.html">Tableau de bord</a>
            </nav>
        </div>
    </header>

    <main class="container my-5">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Cours</a></li>
                <li class="breadcrumb-item"><a href="examens.html">Examens</a></li>
                <li class="breadcrumb-item active">Examen 1 - ThÃ©orie</li>
            </ol>
        </nav>

        <div class="text-center mb-5">
            <h1>Examen Final ThÃ©orique</h1>
            <p>50 questions pour valider vos connaissances en Assembleur 8086.</p>
        </div>

        <div class="quiz-container" id="quiz-container">
            <!-- Questions generated by JS -->
        </div>

        <div class="text-center mt-4">
            <button class="btn btn-primary btn-lg" onclick="checkExam()">Valider l'examen</button>
        </div>

        <div id="result-box" class="result-box">
            <h2 id="result-title"></h2>
            <p id="result-msg"></p>
            <p class="display-4 fw-bold" id="result-score"></p>
            <a href="examens.html" class="btn btn-outline-primary mt-3">Retour aux examens</a>
        </div>
    </main>

    <script>
        const questions = [
            // Architecture & Base
            { q: "Quel est la taille d'un registre gÃ©nÃ©ral (AX, BX...) sur 8086 ?", opts: ["8 bits", "16 bits", "32 bits", "64 bits"], a: 1 },
            { q: "Quelle paire de registres forme l'adresse physique Instruction Pointer ?", opts: ["DS:SI", "CS:IP", "SS:SP", "ES:DI"], a: 1 },
            { q: "Que signifie CPU ?", opts: ["Central Processing Unit", "Computer Personal Unit", "Central Power Unit", "Core Process Unit"], a: 0 },
            { q: "Combien d'octets fait un MOT (WORD) ?", opts: ["1", "2", "4", "8"], a: 1 },
            { q: "Quel registre est implicitement utilisÃ© pour les boucles ?", opts: ["AX", "BX", "CX", "DX"], a: 2 },

            // Registres
            { q: "Quel registre est l'Accumulateur ?", opts: ["AX", "BX", "BP", "DI"], a: 0 },
            { q: "SI signifie...", opts: ["Stack Index", "Source Index", "Segment Index", "System Index"], a: 1 },
            { q: "SP pointe vers...", opts: ["Le dÃ©but du segment", "Le sommet de la pile", "La prochaine instruction", "Les donnÃ©es"], a: 1 },
            { q: "Quelle partie de AX contient les 8 bits de poids faible ?", opts: ["AH", "AL", "AXL", "LOW"], a: 1 },
            { q: "Quel flag indique un rÃ©sultat nul ?", opts: ["CF", "OF", "ZF", "SF"], a: 2 },

            // Instructions Base
            { q: "Que fait 'MOV AX, BX' ?", opts: ["Ã‰change AX et BX", "Copie BX dans AX", "Copie AX dans BX", "Ajoute BX Ã  AX"], a: 1 },
            { q: "Quelle instruction ne modifie PAS les flags ?", opts: ["ADD", "SUB", "MOV", "CMP"], a: 2 },
            { q: "ADD AX, 1 est Ã©quivalent Ã ...", opts: ["INC AX", "DEC AX", "MOV AX, 1", "SUB AX, -1"], a: 0 },
            { q: "Quel est le rÃ©sultat de XOR AX, AX ?", opts: ["AX = 1", "AX inchangÃ©", "AX = 0", "Erreur"], a: 2 },
            { q: "MUL BL multiplie BL par...", opts: ["AX", "AL", "BH", "CL"], a: 1 },

            // Adressage
            { q: "MOV AX, [BX] est un adressage...", opts: ["ImmÃ©diat", "Registre", "Direct", "Indirect par registre"], a: 3 },
            { q: "MOV AX, 1234h est un adressage...", opts: ["ImmÃ©diat", "Direct", "Relatif", "IndexÃ©"], a: 0 },
            { q: "MOV AX, [1234h] copie...", opts: ["La valeur 1234h", "Le contenu de l'adresse 1234h", "L'adresse 1234h", "Rien"], a: 1 },
            { q: "LEA signifie...", opts: ["Load Effective Address", "Load Extended Accumulator", "Low End Address", "Load Everything"], a: 0 },
            { q: "Quelle combinaison est invalide pour l'adressage ?", opts: ["[BX+SI]", "[BP+DI]", "[BX+BP]", "[BX+DI+Disp]"], a: 2 },

            // ContrÃ´le
            { q: "JMP est un saut...", opts: ["Conditionnel", "Inconditionnel", "Vers une procÃ©dure", "Vers une interruption"], a: 1 },
            { q: "JE saute si...", opts: ["Zero Flag = 1", "Zero Flag = 0", "Carry Flag = 1", "Sign Flag = 1"], a: 0 },
            { q: "CMP fait une...", opts: ["Addition sans stockage", "Soustraction sans stockage", "Multiplication", "Comparaison binaire"], a: 1 },
            { q: "LOOP dÃ©crÃ©mente CX et saute si...", opts: ["CX = 0", "CX != 0", "ZF = 1", "ZF = 0"], a: 1 },
            { q: "JA (Jump Above) est utilisÃ© pour les nombres...", opts: ["SignÃ©s", "Non signÃ©s", "NÃ©gatifs", "Flottants"], a: 1 },

            // Pile & ProcÃ©dures
            { q: "L'instruction PUSH...", opts: ["IncrÃ©mente SP", "DÃ©crÃ©mente SP", "Ne change pas SP", "Met SP Ã  0"], a: 1 },
            { q: "LIFO signifie...", opts: ["Last In First Out", "Last In First Off", "Low Input Fast Output", "Loop In Function Out"], a: 0 },
            { q: "CALL sauvegarde...", opts: ["AX", "CX", "IP", "Tous les registres"], a: 2 },
            { q: "RET effectue...", opts: ["JMP au dÃ©but", "POP IP", "POP AX", "HLT"], a: 1 },
            { q: "Dans une procÃ©dure, les paramÃ¨tres sont souvent accÃ©dÃ©s via...", opts: ["SP", "BP", "BX", "SI"], a: 1 },

            // ChaÃ®nes
            { q: "REP rÃ©pÃ¨te tant que...", opts: ["AX > 0", "CX > 0", "DX > 0", "ZF = 1"], a: 1 },
            { q: "MOVSB utilise quels registres d'index ?", opts: ["SI et DI", "BX et CX", "BP et SP", "AX et DX"], a: 0 },
            { q: "CLD met le flag direction Ã  0 pour...", opts: ["IncrÃ©menter les index", "DÃ©crÃ©menter les index", "ArrÃªter la copie", "Inverser la copie"], a: 0 },
            { q: "Pour comparer des chaÃ®nes, on utilise...", opts: ["MOVSB", "LODSB", "CMPSB", "STOSB"], a: 2 },
            { q: "STOSB copie AL vers...", opts: ["[DS:SI]", "[ES:DI]", "[SS:SP]", "[CS:IP]"], a: 1 },

            // Tableaux
            { q: "DB dÃ©clare...", opts: ["1 octet", "2 octets", "4 octets", "Une chaÃ®ne vide"], a: 0 },
            { q: "DW 10 DUP(?) rÃ©serve...", opts: ["10 octets", "20 octets", "10 mots", "Rien"], a: 2 },
            { q: "Dans le tableau 'TAB DB 1,2,3', l'adresse de 2 est...", opts: ["TAB", "TAB+1", "TAB+2", "TAB+4"], a: 1 },
            { q: "Le format Little Endian stocke 1234h comme...", opts: ["12 34", "34 12", "1 2 3 4", "4 3 2 1"], a: 1 },
            { q: "Pour un tableau de mots (DW), pour passer au suivant on fait...", opts: ["INC SI", "ADD SI, 2", "ADD SI, 4", "DEC SI"], a: 1 },

            // Interruptions & I/O
            { q: "INT 21h est une interruption...", opts: ["BIOS", "DOS", "Hardware", "Critique"], a: 1 },
            { q: "Pour afficher une chaÃ®ne (INT 21h/09h), elle doit finir par...", opts: ["NULL (0)", "EntrÃ©e (13)", "$", "."], a: 2 },
            { q: "INT 10h gÃ¨re...", opts: ["Le disque", "Le clavier", "L'Ã©cran (VidÃ©o)", "L'imprimante"], a: 2 },
            { q: "AH=0Ah (INT 21h) sert Ã ...", opts: ["Afficher un char", "Lire un char", "Lire une chaÃ®ne buffÃ©risÃ©e", "Quitter"], a: 2 },
            { q: "IN AL, 60h...", opts: ["Lit le port 60h", "Ã‰crit au port 60h", "DÃ©place 60h dans AL", "Saute Ã  60h"], a: 0 },

            // Debugging & Divers
            { q: "F8 dans emu8086 sert Ã ...", opts: ["ExÃ©cuter tout", "Faire un Single Step", "Compiler", "Mettre un breakpoint"], a: 1 },
            { q: "Buffer Overflow signifie...", opts: ["MÃ©moire pleine", "DÃ©bordement de tampon", "Pile vide", "Registre nul"], a: 1 },
            { q: "0Dh et 0Ah sont les codes ASCII pour...", opts: ["Espace et Tab", "CR et LF (Saut de ligne)", "A et B", "0 et 9"], a: 1 },
            { q: "HLT sert Ã ...", opts: ["ArrÃªter le processeur", "Sauter au dÃ©but", "Effacer la mÃ©moire", "Appeler l'aide"], a: 0 },
            { q: "En hexadÃ©cimal, 10 + 6 = ?", opts: ["16", "10", "1A", "F"], a: 0 }
        ];

        function initQuiz() {
            const container = document.getElementById('quiz-container');
            questions.forEach((q, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                let html = `<h5>${index + 1}. ${q.q}</h5>`;
                q.opts.forEach((opt, i) => {
                    html += `
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q${index}" id="q${index}o${i}" value="${i}">
                            <label class="form-check-label" for="q${index}o${i}">
                                ${opt}
                            </label>
                        </div>
                    `;
                });
                card.innerHTML = html;
                container.appendChild(card);
            });
        }

        function checkExam() {
            let score = 0;
            let answered = 0;
            questions.forEach((q, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const card = document.querySelectorAll('.question-card')[index];

                // Reset styles
                card.style.border = "none";

                if (selected) {
                    answered++;
                    if (parseInt(selected.value) === q.a) {
                        score++;
                        card.style.borderLeft = "5px solid green";
                    } else {
                        card.style.borderLeft = "5px solid red";
                    }
                } else {
                    card.style.borderLeft = "5px solid orange";
                }
            });

            const resultBox = document.getElementById('result-box');
            const resultTitle = document.getElementById('result-title');
            const resultMsg = document.getElementById('result-msg');
            const resultScore = document.getElementById('result-score');

            resultBox.style.display = 'block';
            resultScore.innerText = `${score} / 50`;

            const percentage = (score / 50) * 100;
            if (percentage >= 70) {
                resultBox.className = "result-box score-good";
                resultTitle.innerText = "FÃ©licitations ! ðŸŽ‰";
                resultMsg.innerText = "Vous avez rÃ©ussi l'examen thÃ©orique.";
            } else {
                resultBox.className = "result-box score-bad";
                resultTitle.innerText = "Dommage...";
                resultMsg.innerText = "Vous n'avez pas atteint les 70% requis. RÃ©visez et rÃ©essayez !";
            }

            window.scrollTo(0, document.body.scrollHeight);
        }

        window.onload = initQuiz;
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>